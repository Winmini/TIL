# 머신러닝, 딥러닝을 위한 Back End

## - Introduction

Back-End를 진행할 때엔 장고(Django)를 이용하여 진행할 것이다. Web은 기본적으로 CS구조를 가졌었고  데이터를 주고받는 방식엔 2가지 방식이 있었다. 배웠던 2가지 방식 Round Trip방식과 SPA(Single Page Application)방식이 있었다. 여기선 Round Trip 방식을 이용할 것이다. 혹시나 잊었을까 그림을 가져왔다.

![CS구조](.\jpgfile\cs구조.PNG)

기본적으로 클라이언트가 늘 더 많다. 그냥 단순히 생각해봐도 그렇겠구나 생각할 수 있을 것 같다. 게임유저가 많아서 서버가 터졌다. 이런 말을 들어보지 않았는가? 때문에 웹서버도 한개가 아니며 이용하는 Client가 많을 수록 늘어날 수도 있다. 그래서 load Balance라는 것도 있다. 웹서버를 관리해주는 프로그램이라 생각하면 된다.  이런게 있지만 여기서는 그렇게 따지다보면 구현할 것이 너무 많다. 때문에 있다는 것만 알고 load balance까지는 구현하지 않을 것이다.

![CS구조](.\jpgfile\cs구조2.PNG)

WS는 기억날지 모르겠지만 원래 정적 Resource를 service하였다. 초반엔 데이터만 요구했었지만 나중에는 프로그램을 실행시켜달라는 요구도 생기기 시작했다. 이러한 문제를 해결하기 위한 규약이 생기며 이 규약을 CGI(Common Gateway Interface)라고 한다. ~~이런걸 다 알아야하나? 어렵지 않은 그저 상식일 뿐이니 읽고 넘어가자.~~ 어쨌든 규약을 지킨다해도 프로그램을 진행시키는 것은 WS였던것은 여전히 부담되고 나중엔 허덕대기 시작한다. 그래서 프로그램을 실행시켜는 WAS가 생겼고 WAS가 프로그램을 실행시켜서 결과를 다시 돌려준다. 이 WAS는 여러 회사에서 만들어서 무료, 유료로 배포한다. 이 WAS안에는 여러 프로그램들이 있고, 이 프로그램들을 Back-end program이라 한다. 이는 우리가 제작해도 나중에 우리가 실행시키려고 만드는 목적이 아니다. WAS가 실행시킬 프로그램들이다. 따라서 WAS가 실행시킬 수 있는 형태, 규칙하에서 만들어져야 한다. 이 규칙이 너무 복잡하므로 맨땅에 헤딩이 아니라 Frame work를 이용할 것이다. 이 Frame work가 바로 Django인 것이다.

계속 WAS를 얘기했지만 사실 Python은 살짝 다른데 흐름 자체는 똑같다.  WSGI라는 것이 있다. 우리가 파이썬으로 만드는 웹 어플리케이션이 웹서버와 통신하는 규칙, 규약(Interface)이다. 다음 상황으로 예시를 보자.

웹 클라이언트가 웹서버에 request를 보낼 때 python program을 실행시킨 후 그 결과를 알려달라고 요청했다고 하자. 웹서버에는 직접 처리할 능력이 없고 대신 WGSI모듈이 붙어있다. 파이썬을 감지 하고 WSGI 프로토콜을 이용하여 WGSI Process(WAS<u>역할</u>을 하는 프로그램)에게 위임한다. 이 프로세스가 장고라는 Frame work를 이용하여 우리가 만든(혹은 만들) 프로그램이 실행을 시켜주는 것이다.

 Django(장고)에 근거한 프로그램을 만드는 것이 우리가 할 일이다.

참고로 장고의 d는 묵음이다. 디장고라고 읽는 것이 아니다.