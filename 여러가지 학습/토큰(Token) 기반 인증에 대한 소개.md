# 토큰(Token) 기반 인증에 대한 소개



토큰 기반 인증은 모던 웹서비스에서 정말 맣이 사용되고 있고, API를 사용하는 웹 서비스를 개발한다면, 토큰을 사용하여 유저들의 인증작업을 처리하는 것이 좋은 방법이라고 알려져있다. 현재 API를 사용하는 웹 서비스 프로젝트를 진행중이기에 찾아 봤다.

왜 토큰 기반 인증 시스템을 선택할까?

#### Stateless 서버

Stateful 서버는 클라이언트에게서 요청을 받을 때 마다, 클라이언트의 상태를 계속해서 유지하고 이 정보를 서비스 제공에 이용한다. 흔히 로그인을 떠올려서 이해하기 쉽다. 한번 로그인하면 로그아웃 하기 전까지 다른 서비스를 이용할 수 있다. 여기서 이 세션은 서버컴퓨터의 메모리에 담을 수도, DB에 담을 수도 있다. 반대로 Stateless 서버는 반대로 상태를 유지하지 않는다. 상태정보를 저장하지 않으면, 서버는 클라이언트측에서 들어오는 요청만으로 작업을 처리한다. 연결고리가 없으면 서버의 확장성은 높아진다.



#### 인증정보를 다른 어플리케이션으로 전달

네이버, 구글 같이 많이 사용하는 계정들을 이용하여 다른 웹서비스에서도 로그인 할 수 있게 하면 된다.



#### 토큰 기반 시스템은 어떻게 작동하는가

이 시스템은 인증정보를 저장하지 않는다고 했다. 이 것은 많은 문제점을 해결한다. 많은 사람들이 로그인하면  모두 저장해야했던 문제, 혹은 유저의 수가 많으면 db성능에 무리에 줬던 문제 등 여러 문제를 한꺼번에 해결한다. 그럼 정보를 어떻게 확인할까?

1. 유저가 로그인을 한다.
2. 정상적인 계정이라면 서버에서 토큰을 발급해준다.
3. 클라이언트는 토큰을 가지고 있다가, 서버에 요청할 때 마다 토큰을 같이 전달한다. 전달할 때 헤더에 토큰값을 포함시켜서 전달한다.
4. 토큰을 검증하고, 요청에 응답한다.



#### JWT (JSON Web Token)

JWT는 필요한 모든 정보를 자체적으로 지닌다. JWT에서 발급된 토큰은 토큰에 대한 기본정보, 전달하는 정보 그리고 검증되었다는 시그니처를 포함하고 있다.

JWT는 .을 구분자로 사용하며 3가지의 문자열로 이루어져 있다. 예를 들면 다음과 같다.

헤더.내용.서명

더 자세한 내용은 다음을 [참고](https://velopert.com/2389)한다.