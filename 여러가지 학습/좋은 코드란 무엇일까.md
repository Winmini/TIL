# 좋은 코드란 무엇일까?



'좋은 코드' 말은 짧지만 많은 의미를 함축하고 있다. 사람마다 생각하는 좋은 코드는 다르겠지만, 개발하고 싶은 개발자라면 정말로 좋은 코드를 만들고 싶어할 것이라 생각이 든다.

한 정리글을 읽고, 배운점과 나에 문제점에 대해 고찰하여 공유한다.



### 좋은 코드란?

이 말에 담겨 있는 의미가 너무 많다. 그래서 생각하는게 다르고 일하는 분야에 따라서도 조금씩 다르게 정의될 것 같다. 그래도 그래도 공통적으로 추리면 대부분 다음을 포함한다.

- 읽기 쉬운 코드
- 중복이 없는 코드
- 테스트가 용이한코드
- ..

---

#### 읽기 쉬운코드

다시 읽기 쉬운 코드에 대해서도 생각할 것이 많다. 코드는 간결하면 좋고, 이해하기 쉬우면 좋다. 근데 이것을 적용하며 모든 변수나 함수들을 한글자로 만들고, 주석으로 설명해주면 누구나 이해하기 쉽지 않을까? 라는 생각을 할 수도 있다.

문제는 주석은 관리가 어렵다. 그리고 주석의 내용과 실제 동작이 일치하는 것을 보장할 수가 없다. 코드가 살짝 변경되었는데 주석수정을 까먹으면 금방 혼란스러워지기 마련이다.

#### 중복이 없는 코드

만약 동일한 코드가 보이면 그 부분을 추출하고자 한다. 왜냐하면 여러개로 퍼져있을 경우 코드에서 문제가 발생했을 때 수정하기가 쉽지 않다. 시간이 지나면 그 여러개는 어디있는지 파악조차 힘들어진다. 따라서 빼놓는 것이 좋다.

문제는 공통으로 사용하는 이 코드를 수정하는 작업은 어렵다. 동일하다고 생각하여 추출했지만, 추출한 각자의 코드에서 조금씩 다르게 사용되어야 할경우 어떻게 수정할지가 문제다. 따라서 추출할 때에는 **목적이 같은 코드**인 것이 좋을 것이다.

#### 쓰이지 않는 코드

어쩌다보면 죽은 코드들이 생긴다. 이 코드가 언제 다시 쓰일지도 모른다는 불안감에 지우기가 망설여진다. 코드가 동작하는 곳과 정의된 곳간의 물리적 거리로 판단하는 방법이 있다. 거리와 범위를 확인하면 사용하지 않을 것이라는 경우 확신할 수 있다.

순수하지 않은 함수일 경우, 예를 들어 현재 날짜를 받아와서 그 것을 응용한다던가 다른 값들을 기반으로 동작하는 함수는 이 수정으로 인해서 발생하는 side effect가 조심스럽다. 이를 조심해야 한다.

#### 응급처치를한 코드

중복으로 인해서 추출했지만 사용하는 곳에서 다른 로직을 추가해야할 때가 있다. 이때 수정으로 인한 side effect가 두려워 무언가를 억지로 추가하여 처리할 수도 있다. 하지만 이렇게 응급처치가 여러번 일어난다면 좋은 코드와는 멀어진다.



### 좋지 않은 코드 줄이기

좋지 않은 코드들을 살펴봤다. 이러한 코드를 줄이는 것이 좋은 코드로 가는 또 다른 길이다. 추출이 아닌 추상화를 하자. 단순히 중복하는 코드를 빼내어서 따로 처리하는 것이 아닌 그 것의 본질, 즉 역할을 생각하는 것이다. 그 역할에 맞게 재해석하여 코드를 짠다면 의미있는 추출이 일어난다.



#### 좋지 않은 코드의 관리

좋지 않은 코드는 아무리그래도 완전하게 피할 수는 없다. 요구사항에 맞추다보면 어쩔 수 없이 복잡한 코드가 생성될 수 있는데, 이는 변경하기가 참 힘들다. 이러한 것을 차단할 수 없다면 이러한 부분은 주석과 함께 격리를 잘 시켜주면 된다.

출처: [좋은코드란 무엇일까?](https://jbee.io/etc/what-is-good-code/) 

추가로 읽었을 때 좋았던 글: [패키지는 어떻게 나눈 것이 좋을까?](https://ahnheejong.name/articles/package-structure-with-the-principal-of-locality-in-mind/)